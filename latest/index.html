<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · TransformVariables.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TransformVariables.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">Manual</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#General-interface-1">General interface</a></li><li class="toplevel"><a class="toctext" href="#Specific-transformations-1">Specific transformations</a></li><li><a class="toctext" href="#Scalar-transforms-1">Scalar transforms</a></li><li><a class="toctext" href="#Special-arrays-1">Special arrays</a></li><li><a class="toctext" href="#Aggregation-of-transformations-1">Aggregation of transformations</a></li><li class="toplevel"><a class="toctext" href="#Defining-custom-transformations-1">Defining custom transformations</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">Manual</a></li></ul><a class="edit-page" href="https://github.com/tpapp/TransformVariables.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Manual</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Introduction-1" href="#Introduction-1">Introduction</a></h1><h1><a class="nav-anchor" id="General-interface-1" href="#General-interface-1">General interface</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.dimension" href="#TransformVariables.dimension"><code>TransformVariables.dimension</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">dimension(t::AbstractTransform)</code></pre><p>The dimension (number of elements) that <code>t</code> transforms.</p><p>Types should implement this method.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L166-L172">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform" href="#TransformVariables.transform"><code>TransformVariables.transform</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform(t, x)
</code></pre><p>Transform <code>x</code> using <code>t</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L216">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform_and_logjac" href="#TransformVariables.transform_and_logjac"><code>TransformVariables.transform_and_logjac</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform_and_logjac(t, x)
</code></pre><p>Transform <code>x</code> using <code>t</code>; calculating the log Jacobian determinant, returned as the second value.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L223">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.inverse" href="#TransformVariables.inverse"><code>TransformVariables.inverse</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">inverse(t::AbstractTransform, y)</code></pre><p>Return <code>x</code> so that <code>transform(t, x) ≈ y</code>.</p><pre><code class="language-julia">inverse(t)
</code></pre><p>Return a callable equivalen to <code>y -&gt; inverse(t, y)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L124-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform_logdensity" href="#TransformVariables.transform_logdensity"><code>TransformVariables.transform_logdensity</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform_logdensity(t, f, x)
</code></pre><p>Let <span>$y = t(x)$</span>, and <span>$f(y)$</span> a log density at <code>y</code>. This function evaluates <code>f ∘ t</code> as a log density, taking care of the log Jacobian correction.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L155">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.as" href="#TransformVariables.as"><code>TransformVariables.as</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">as(T, args...)</code></pre><p>Shorthand for constructing transformations with image in <code>T</code>. <code>args</code> determines or modifies behavior, details depend on <code>T</code>.</p><p>Not all transformations have an <code>as</code> method, some just have direct constructors. See <code>methods(as)</code> for a list.</p><p><strong>Examples</strong></p><pre><code class="language-julia">as(Real, -∞, 1)     # transform a real number to (-∞, 1)
as(Array, 10, 2)    # reshape 20 real numbers to a 10x2 matrix
as((a = ℝ₊, b = 𝕀)) # transform 2 real numbers a NamedTuple, with a &gt; 0, 0 &lt; b &lt; 1</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/TransformVariables.jl#L175-L191">source</a></section><h1><a class="nav-anchor" id="Specific-transformations-1" href="#Specific-transformations-1">Specific transformations</a></h1><h2><a class="nav-anchor" id="Scalar-transforms-1" href="#Scalar-transforms-1">Scalar transforms</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.∞" href="#TransformVariables.∞"><code>TransformVariables.∞</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Placeholder representing of infinity for specifing interval boundaries. Supports the <code>-</code> operator, ie <code>-∞</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/scalar.jl#L117-L120">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.ℝ" href="#TransformVariables.ℝ"><code>TransformVariables.ℝ</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to the real line (identity).</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/scalar.jl#L162">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.ℝ₊" href="#TransformVariables.ℝ₊"><code>TransformVariables.ℝ₊</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to a non-negative real number.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/scalar.jl#L153">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.ℝ₋" href="#TransformVariables.ℝ₋"><code>TransformVariables.ℝ₋</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to a non-positive real number.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/scalar.jl#L156">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.𝕀" href="#TransformVariables.𝕀"><code>TransformVariables.𝕀</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to the unit interval <code>(0, 1)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/scalar.jl#L159">source</a></section><h2><a class="nav-anchor" id="Special-arrays-1" href="#Special-arrays-1">Special arrays</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.UnitVector" href="#TransformVariables.UnitVector"><code>TransformVariables.UnitVector</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">UnitVector(n)</code></pre><p>Transform <code>n-1</code> real numbers to a unit vector of length <code>n</code>, under the Euclidean norm.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L5">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.CorrCholeskyFactor" href="#TransformVariables.CorrCholeskyFactor"><code>TransformVariables.CorrCholeskyFactor</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">CorrCholeskyFactor(n)</code></pre><p>Cholesky factor of a correlation matrix of size <code>n</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L4">source</a></section><h2><a class="nav-anchor" id="Aggregation-of-transformations-1" href="#Aggregation-of-transformations-1">Aggregation of transformations</a></h2><p>FIXME explain <code>as</code> syntax</p><h1><a class="nav-anchor" id="Defining-custom-transformations-1" href="#Defining-custom-transformations-1">Defining custom transformations</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.logjac_forwarddiff" href="#TransformVariables.logjac_forwarddiff"><code>TransformVariables.logjac_forwarddiff</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">logjac_forwarddiff(f, x)
</code></pre><p>Calculate the log Jacobian determinant of <code>f</code> at <code>x</code> using `ForwardDiff.</p><p><strong>Note</strong></p><p><code>f</code> should be a bijection, mapping from vectors of real numbers to vectors of equal length.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/custom.jl#L3">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.value_and_logjac_forwarddiff" href="#TransformVariables.value_and_logjac_forwarddiff"><code>TransformVariables.value_and_logjac_forwarddiff</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">value_and_logjac_forwarddiff(f, x)
value_and_logjac_forwarddiff(f, x, flatten)
</code></pre><p>Calculate the value and the log Jacobian determinant of <code>f</code> at <code>x</code>. <code>flatten</code> is used to get a vector out of the result that makes <code>f</code> a bijection.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/22d76c7ba4714dcd904b7cf0b5257a6ed1698c74/src/custom.jl#L15">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.CustomTransform" href="#TransformVariables.CustomTransform"><code>TransformVariables.CustomTransform</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">CustomTransform(g, f, flatten)</code></pre><p>Wrap a custom transform <code>y = f(transform(g, x))</code><code>in a type that calculates the log Jacobian of</code><code>∂y/∂x</code><code>using</code>ForwardDiff` when necessary.</p><p>Usually, <code>g::TransformReals</code>, but when an integer is used, it amounts to the identity transformation with that dimension.</p><p><code>flatten</code> should take the result from <code>f</code>, and return a flat vector with no redundant elements, so that <span>$x ↦ y$</span> is a bijection. For example, for a covariance matrix the elements below the diagonal should be removed.</p></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/5d4eaca0c9fa3d555c79dbacdccb9169fdf64b65/base/#L0-L12">source</a></section><footer><hr/></footer></article></body></html>
