<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Manual · TransformVariables.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link href="assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>TransformVariables.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="search.html"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li class="current"><a class="toctext" href="index.html">Manual</a><ul class="internal"><li class="toplevel"><a class="toctext" href="#General-interface-1">General interface</a></li><li class="toplevel"><a class="toctext" href="#Specific-transformations-1">Specific transformations</a></li><li><a class="toctext" href="#Scalar-transforms-1">Scalar transforms</a></li><li><a class="toctext" href="#Special-arrays-1">Special arrays</a></li><li><a class="toctext" href="#Aggregation-of-transformations-1">Aggregation of transformations</a></li><li class="toplevel"><a class="toctext" href="#Defining-custom-transformations-1">Defining custom transformations</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href="index.html">Manual</a></li></ul><a class="edit-page" href="https://github.com/tpapp/TransformVariables.jl/blob/master/docs/src/index.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Manual</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Introduction-1" href="#Introduction-1">Introduction</a></h1><h1><a class="nav-anchor" id="General-interface-1" href="#General-interface-1">General interface</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.dimension" href="#TransformVariables.dimension"><code>TransformVariables.dimension</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">dimension(t::TransformReals)</code></pre><p>The dimension (number of elements) that <code>t</code> transforms.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/TransformVariables.jl#L136-L140">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform" href="#TransformVariables.transform"><code>TransformVariables.transform</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform(t, x)
</code></pre><p>Transform <code>x</code> using <code>t</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/TransformVariables.jl#L103">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform_and_logjac" href="#TransformVariables.transform_and_logjac"><code>TransformVariables.transform_and_logjac</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform_and_logjac(t, x)
</code></pre><p>Transform <code>x</code> using <code>t</code>; calculating the log Jacobian determinant, returned as the second value.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/TransformVariables.jl#L110">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.inverse" href="#TransformVariables.inverse"><code>TransformVariables.inverse</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">inverse(t::TransformReals, y)</code></pre><p>Return <code>x</code> so that <code>transform(t, x) ≈ y</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/TransformVariables.jl#L118-L122">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.transform_logdensity" href="#TransformVariables.transform_logdensity"><code>TransformVariables.transform_logdensity</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">transform_logdensity(t, f, x)
</code></pre><p>Let <span>$y = t(x)$</span>, and <span>$f(y)$</span> a log density at <code>y</code>. This function evaluates <code>f ∘ t</code> as a log density, taking care of the log Jacobian correction.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/TransformVariables.jl#L125">source</a></section><h1><a class="nav-anchor" id="Specific-transformations-1" href="#Specific-transformations-1">Specific transformations</a></h1><h2><a class="nav-anchor" id="Scalar-transforms-1" href="#Scalar-transforms-1">Scalar transforms</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_interval" href="#TransformVariables.to_interval"><code>TransformVariables.to_interval</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">to_interval(left, right)
</code></pre><p>Return a transformation that transforms a single real number to the given (open) interval.</p><p><code>left &lt; right</code> is required, but may be <code>-∞</code> or <code>∞</code>, respectively, in which case the appropriate transformation is selected. See <a href="index.html#TransformVariables.∞"><code>∞</code></a>.</p><p>Some common transformations are predefined as constants, see <a href="index.html#TransformVariables.to_ℝ"><code>to_ℝ</code></a>, <a href="index.html#TransformVariables.to_ℝ₋"><code>to_ℝ₋</code></a>, <a href="index.html#TransformVariables.to_ℝ₊"><code>to_ℝ₊</code></a>, <a href="index.html#TransformVariables.to_𝕀"><code>to_𝕀</code></a>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L101-L112">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.∞" href="#TransformVariables.∞"><code>TransformVariables.∞</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Placeholder representing of infinity for specifing interval boundaries. Supports the <code>-</code> operator, ie <code>-∞</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L91-L94">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_ℝ" href="#TransformVariables.to_ℝ"><code>TransformVariables.to_ℝ</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to the real line (identity).</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L136">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_ℝ₊" href="#TransformVariables.to_ℝ₊"><code>TransformVariables.to_ℝ₊</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to a non-negative real number.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L127">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_ℝ₋" href="#TransformVariables.to_ℝ₋"><code>TransformVariables.to_ℝ₋</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to a non-positive real number.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L130">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_𝕀" href="#TransformVariables.to_𝕀"><code>TransformVariables.to_𝕀</code></a> — <span class="docstring-category">Constant</span>.</div><div><div><p>Transform to the unit interval <code>(0, 1)</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/scalar.jl#L133">source</a></section><h2><a class="nav-anchor" id="Special-arrays-1" href="#Special-arrays-1">Special arrays</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_unitvec" href="#TransformVariables.to_unitvec"><code>TransformVariables.to_unitvec</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">to_unitvec(n)
</code></pre><p>Return a transformation that transforms <code>n - 1</code> real numbers to a unit vector (under Euclidean norm).</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/special_arrays.jl#L42">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_corr_cholesky" href="#TransformVariables.to_corr_cholesky"><code>TransformVariables.to_corr_cholesky</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">to_corr_cholesky(n)
</code></pre><p>Return a transformation that transforms real numbers to an <span>$n×n$</span> upper-triangular matrix <code>Ω</code>, such that <code>Ω&#39;*Ω</code> is a correlation matrix (positive definite, with unit diagonal).</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/special_arrays.jl#L96">source</a></section><h2><a class="nav-anchor" id="Aggregation-of-transformations-1" href="#Aggregation-of-transformations-1">Aggregation of transformations</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_array" href="#TransformVariables.to_array"><code>TransformVariables.to_array</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">to_array(transformation, dims)
</code></pre><p>Return a transformation that applies <code>transformation</code> repeatedly to create an array with the given <code>dims</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/aggregation.jl#L13">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.to_tuple" href="#TransformVariables.to_tuple"><code>TransformVariables.to_tuple</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">to_tuple(transformations)
</code></pre><p>Return a transformation that transforms consecutive groups of real numbers to a (named) tuple, using the given transformations.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/aggregation.jl#L54">source</a><div><div><pre><code class="language-julia">to_tuple(transformations)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/aggregation.jl#L62">source</a><div><div><pre><code class="language-julia">to_tuple(transformations)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/aggregation.jl#L95">source</a><div><div><pre><code class="language-julia">to_tuple(; (:: transformations NTransformations)...)
</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/aggregation.jl#L101">source</a></section><h1><a class="nav-anchor" id="Defining-custom-transformations-1" href="#Defining-custom-transformations-1">Defining custom transformations</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.logjac_forwarddiff" href="#TransformVariables.logjac_forwarddiff"><code>TransformVariables.logjac_forwarddiff</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-julia">logjac_forwarddiff(transformation, flatten, x)
</code></pre><p>Calculate the log Jacobian of <code>transformation</code> at <code>x</code> using <code>ForwardDiff.jacobian</code>.</p><p><code>flatten</code> should be a <strong>bijection</strong> that maps the result of the transformation to a vector of reals. This means that elements which are redundant should not be part of the result; since <code>f</code> is continuous, this means that <code>flatten</code> should have the same number of elements as <code>x</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/custom.jl#L1">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="TransformVariables.CustomTransform" href="#TransformVariables.CustomTransform"><code>TransformVariables.CustomTransform</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">CustomTransform(dimension, transformation, flatten)</code></pre><p>Wrap a custom transform <code>y = transformation(x)</code> in a type that calculates the log Jacobian using <code>ForwardDiff</code> when necessary. See [<code>logjac_forwarddiff</code>] for the documentation of <code>flatten</code>.</p></div></div><a class="source-link" target="_blank" href="https://github.com/tpapp/TransformVariables.jl/blob/d9823ba89d732e25c0f135f6d37735d3fe2b6ddd/src/custom.jl#L15-L21">source</a></section><footer><hr/></footer></article></body></html>
